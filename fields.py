#!/usr/bin/env python
'''This is a demo on how to use Gnuplot for potential fields.  We've
intentionally avoided "giving it all away."
'''

from __future__ import division
from itertools import cycle

try:
    from numpy import linspace
except ImportError:
    # This is stolen from numpy.  If numpy is installed, you don't
    # need this:
    def linspace(start, stop, num=50, endpoint=True, retstep=False):
        """Return evenly spaced numbers.

        Return num evenly spaced samples from start to stop.  If
        endpoint is True, the last sample is stop. If retstep is
        True then return the step value used.
        """
        num = int(num)
        if num <= 0:
            return []
        if endpoint:
            if num == 1:
                return [float(start)]
            step = (stop-start)/float((num-1))
            y = [x * step + start for x in xrange(0, num - 1)]
            y.append(stop)
        else:
            step = (stop-start)/float(num)
            y = [x * step + start for x in xrange(0, num)]
        if retstep:
            return y, step
        else:
            return y


########################################################################
# Constants

# Output file:
FILENAME = 'fields.gpi'
# Size of the world (one of the "constants" in bzflag):
WORLDSIZE = 800
# How many samples to take along each dimension:
SAMPLES = 25
# Change spacing by changing the relative length of the vectors.  It looks
# like scaling by 0.75 is pretty good, but this is adjustable:
VEC_LEN = 0.75 * WORLDSIZE / SAMPLES
# Animation parameters:
ANIMATION_MIN = 0
ANIMATION_MAX = 500
ANIMATION_FRAMES = 50


########################################################################
# Field and Obstacle Definitions

def generate_field_function(scale):
    def function(x, y):
        '''User-defined field function.'''
        sqnorm = (x**2 + y**2)
        if sqnorm == 0.0:
            return 0, 0
        else:
            return x*scale/sqnorm, y*scale/sqnorm
    return function

POINTS = [
((-400, -400), (-0.0015582, 35000)),
((-400, -375), (-0.00142062, 32500)),
((-400, -350), (-0.00131134, 30000)),
((-400, -325), (-0.00120206, 27500)),
((-400, -300), (-0.00109278, 25000)),
((-400, -275), (-0.000983506, 22500)),
((-400, -250), (-0.000874228, 20000)),
((-400, -225), (-0.000764949, 17500)),
((-400, -200), (-0.000655671, 15000)),
((-400, -175), (-0.000546392, 12500)),
((-400, -150), (-0.000437114, 10000)),
((-400, -125), (-0.000327835, 7500)),
((-400, -100), (-0.000218557, 5000)),
((-400, -75), (-0.000109278, 2500)),
((-400, -50), (0, 3.83631e-39)),
((-400, -25), (0, 3.83631e-39)),
((-400, 0), (-4.37114e-05, -1000)),
((-400, 25), (-0.00015299, -3500)),
((-400, 50), (-0.000262268, -6000)),
((-400, 75), (-0.000371547, -8500)),
((-400, 100), (-0.000480825, -11000)),
((-400, 125), (-0.000590104, -13500)),
((-400, 150), (-0.000699382, -16000)),
((-400, 175), (-0.000808661, -18500)),
((-400, 200), (-0.000917939, -21000)),
((-400, 225), (-0.00102722, -23500)),
((-400, 250), (-0.0011365, -26000)),
((-400, 275), (-0.00124577, -28500)),
((-400, 300), (-0.00135505, -31000)),
((-400, 325), (-0.00146433, -33500)),
((-400, 350), (-0.00157361, -36000)),
((-400, 375), (-0.00168289, -38500)),
((-400, 400), (-0.00179217, -41000)),
((-375, -400), (-2365.17, 35004.6)),
((-375, -375), (-2355.45, 32505.2)),
((-375, -350), (-2346.22, 30006.1)),
((-375, -325), (-2333.11, 27507.1)),
((-375, -300), (-2313.6, 25008.5)),
((-375, -275), (-2294.97, 22510.3)),
((-375, -250), (-2272.18, 20012.8)),
((-375, -225), (-2245.67, 17516.2)),
((-375, -200), (-2209.01, 15021.3)),
((-375, -175), (-2160.19, 12529.1)),
((-375, -150), (-2092.09, 10042)),
((-375, -125), (-1991.01, 7565.85)),
((-375, -100), (-3.68935e+19, 5116.52)),
((-375, -75), (-1526.71, 2751.69)),
((-375, -50), (-3.68935e+19, 421.24)),
((-375, -25), (-3.68935e+19, -8.03566)),
((-375, 0), (-1219.63, -1463.56)),
((-375, 25), (-1874.88, -3779)),
((-375, 50), (-2651.51, -5761.67)),
((-375, 75), (3.68935e+19, -8554.39)),
((-375, 100), (-2122.31, -11036)),
((-375, 125), (3.68935e+19, -13525.5)),
((-375, 150), (3.68935e+19, -16019)),
((-375, 175), (-3.68935e+19, -18514.7)),
((-375, 200), (3.68935e+19, -21011.7)),
((-375, 225), (-2304.86, -23509.5)),
((-375, 250), (-2324.14, -26007.9)),
((-375, 275), (-2334.61, -28506.7)),
((-375, 300), (-3.68935e+19, -31005.7)),
((-375, 325), (-2361.5, -33504.9)),
((-375, 350), (-2368.71, -36004.3)),
((-375, 375), (-2376.78, -38503.8)),
((-375, 400), (-2383.92, -41003.4)),
((-350, -400), (-3.68935e+19, 35018)),
((-350, -375), (-4713.14, 32520.7)),
((-350, -350), (-4691.25, 30024)),
((-350, -325), (-4665.78, 27528.1)),
((-350, -300), (-4637.82, 25033.4)),
((-350, -275), (-3.68935e+19, 22540.4)),
((-350, -250), (-4556.76, 20049.7)),
((-350, -225), (-4503.25, 17562.7)),
((-350, -200), (-4435.67, 15081.3)),
((-350, -175), (-4348.02, 12609.3)),
((-350, -150), (-4230.77, 10153.8)),
((-350, -125), (-4066.51, 7730.16)),
((-350, -100), (-3.68935e+19, 5372.53)),
((-350, -75), (-3513.41, 3162.07)),
((-350, -50), (-1e+09, -9.99999e+08)),
((-350, -25), (-16722.2, 14310.7)),
((-350, 0), (-5463.93, -1971.01)),
((-350, 25), (-17368.9, -18631.8)),
((-350, 50), (3.68935e+19, -1.00001e+09)),
((-350, 75), (3.68935e+19, -8694.28)),
((-350, 100), (-4282.04, -11133.3)),
((-350, 125), (-4385.99, -13596.6)),
((-350, 150), (-4464.71, -16073)),
((-350, 175), (-4524.09, -18557)),
((-350, 200), (3.68935e+19, -21045.6)),
((-350, 225), (3.68935e+19, -23537.4)),
((-350, 250), (-3.68935e+19, -26031.1)),
((-350, 275), (-4674.45, -28526.3)),
((-350, 300), (-4700.39, -31022.6)),
((-350, 325), (3.68935e+19, -33519.5)),
((-350, 350), (-4739.09, -36017.1)),
((-350, 375), (-3.68935e+19, -38515.1)),
((-350, 400), (-4769, -41013.4)),
((-325, -400), (3.68935e+19, 35039.9)),
((-325, -375), (-7075.14, 32545.6)),
((-325, -350), (-7043.62, 30052.8)),
((-325, -325), (-7007.2, 27561.7)),
((-325, -300), (3.68935e+19, 25073)),
((-325, -275), (-6914.57, 22587.6)),
((-325, -250), (3.68935e+19, 20107)),
((-325, -225), (-6784.04, 17633.3)),
((-325, -200), (-6694.72, 15170.2)),
((-325, -175), (-6581.15, 12723.6)),
((-325, -150), (-6438, 10304)),
((-325, -125), (3.68935e+19, 7930.24)),
((-325, -100), (-6035.89, 5635.36)),
((-325, -75), (-5785.01, 3471.01)),
((-325, -50), (-1680.39, -1422.62)),
((-325, -25), (3.68935e+19, -9.99999e+08)),
((-325, 0), (3.68935e+19, -2257.22)),
((-325, 25), (-1e+09, -1.00001e+09)),
((-325, 50), (-2246.98, -3633.63)),
((-325, 75), (-6337.52, -8872.53)),
((-325, 100), (3.68935e+19, -11267.6)),
((-325, 125), (3.68935e+19, -13699.7)),
((-325, 150), (-6728.77, -16153.8)),
((-325, 175), (-6810.84, -18621.8)),
((-325, 200), (3.68935e+19, -21098.5)),
((-325, 225), (-6935.67, -23581.3)),
((-325, 250), (-6980.53, -26068.1)),
((-325, 275), (-7022.42, -28557.9)),
((-325, 300), (-3.68935e+19, -31049.7)),
((-325, 325), (-7086.59, -33543.2)),
((-325, 350), (-7110.73, -36037.8)),
((-325, 375), (-7135.82, -38533.4)),
((-325, 400), (-7156.35, -41029.7)),
((-300, -400), (-3.68935e+19, 35069.3)),
((-300, -375), (-9445.21, 32579.1)),
((-300, -350), (3.68935e+19, 30091)),
((-300, -325), (-9357.92, 27605.9)),
((-300, -300), (-9307.37, 25124.5)),
((-300, -275), (-20513.4, 16073.5)),
((-300, -250), (-30558.6, 16614.6)),
((-300, -225), (-3.68935e+19, 22732.2)),
((-300, -200), (-17639.2, 21044.9)),
((-300, -175), (3.68935e+19, 12098.9)),
((-300, -150), (-22519.6, 3563.56)),
((-300, -125), (-30773.9, 6270.34)),
((-300, -100), (-3.68935e+19, 11945.3)),
((-300, -75), (-3.68935e+19, 8185.81)),
((-300, -50), (-11425.5, -1214.42)),
((-300, -25), (-24166.4, -7135.08)),
((-300, 0), (-30597.2, -2425.3)),
((-300, 25), (-24411.5, 2198.79)),
((-300, 50), (-11822.9, -3928.42)),
((-300, 75), (-14629.4, -13558.3)),
((-300, 100), (-3.68935e+19, -17507)),
((-300, 125), (-31141.6, -11967.2)),
((-300, 150), (-22828.7, -9351.69)),
((-300, 175), (-9948.39, -17947.8)),
((-300, 200), (-17857.8, -26934.7)),
((-300, 225), (-29317.1, -28649.9)),
((-300, 250), (-30715.6, -22551.8)),
((-300, 275), (-3.68935e+19, -22024.7)),
((-300, 300), (-9419.99, -31086)),
((-300, 325), (-3.68935e+19, -33574.9)),
((-300, 350), (3.68935e+19, -36065.9)),
((-300, 375), (-9518.57, -38558.3)),
((-300, 400), (-3.68935e+19, -41052)),
((-275, -400), (-11859.9, 35105.2)),
((-275, -375), (-11820.7, 32619.6)),
((-275, -350), (-11774.3, 30137.1)),
((-275, -325), (-11719.7, 27658.5)),
((-275, -300), (-18236.6, 13913.9)),
((-275, -275), (-34935.1, -625.541)),
((-275, -250), (-55848.2, 7593.6)),
((-275, -225), (-52262.1, 35318.9)),
((-275, -200), (-30649, 37484.5)),
((-275, -175), (-24610.6, 6022.38)),
((-275, -150), (-38704.2, -13082.4)),
((-275, -125), (-57589.3, 1621.03)),
((-275, -100), (-47394.5, 26959.7)),
((-275, -75), (-26275, 23952.7)),
((-275, -50), (-24742, -12111.5)),
((-275, -25), (-42643.5, -23378.5)),
((-275, 0), (-3.68935e+19, -2533.26)),
((-275, 25), (-42811.2, 18264)),
((-275, 50), (3.68935e+19, 6873.68)),
((-275, 75), (-26625.4, -29343.8)),
((-275, 100), (-47753.3, -32495.2)),
((-275, 125), (-57928.1, -7274.37)),
((-275, 150), (-39006.1, 7340.11)),
((-275, 175), (-24873.3, -11829.6)),
((-275, 200), (-30878.8, -43338.5)),
((-275, 225), (-52461.2, -41206.8)),
((-275, 250), (3.68935e+19, -13506.2)),
((-275, 275), (3.68935e+19, -5305.38)),
((-275, 300), (-18366.4, -19858.5)),
((-275, 325), (-11837.8, -33613.5)),
((-275, 350), (-3.68935e+19, -36100.1)),
((-275, 375), (-11912.2, -38588.9)),
((-275, 400), (3.68935e+19, -41079.5)),
((-250, -400), (-14248.6, 35146.5)),
((-250, -375), (-14204.5, 32665.9)),
((-250, -350), (-14151.1, 30189.1)),
((-250, -325), (-14093.5, 27717.2)),
((-250, -300), (-17595.4, 3863.44)),
((-250, -275), (-26623.2, -21541.9)),
((-250, -250), (-1.00001e+09, -9.9998e+08)),
((-250, -225), (-1.00001e+09, -9.99982e+08)),
((-250, -200), (-23922.8, 53673.9)),
((-250, -175), (-20866.4, 3481.4)),
((-250, -150), (-1.00001e+09, -9.99989e+08)),
((-250, -125), (-1.00001e+09, -9.99992e+08)),
((-250, -100), (-1.00001e+09, -9.99994e+08)),
((-250, -75), (-21888.4, 32684.3)),
((-250, -50), (-20868.1, -17491.3)),
((-250, -25), (-1.00001e+09, -1e+09)),
((-250, 0), (-3.68935e+19, -1e+09)),
((-250, 25), (-1.00001e+09, -1e+09)),
((-250, 50), (3.68935e+19, 12168.1)),
((-250, 75), (-22165.6, -38112)),
((-250, 100), (3.68935e+19, -1.00001e+09)),
((-250, 125), (-3.68935e+19, -1.00001e+09)),
((-250, 150), (-1.00001e+09, -1.00002e+09)),
((-250, 175), (-21125.4, -9257.39)),
((-250, 200), (-24151.5, -59498.4)),
((-250, 225), (-1.00001e+09, -1.00002e+09)),
((-250, 250), (-1.00001e+09, -1.00003e+09)),
((-250, 275), (-26782.8, 15630.9)),
((-250, 300), (-17735.1, -9791.02)),
((-250, 325), (-14221.6, -33657.7)),
((-250, 350), (-14265.7, -36139.7)),
((-250, 375), (-14305.4, -38624.5)),
((-250, 400), (-14341.3, -41111.6)),
((-225, -400), (-16642.9, 35192)),
((-225, -375), (-16595.2, 32716.3)),
((-225, -350), (-16540.4, 30245.3)),
((-225, -325), (-16479.6, 27779.9)),
((-225, -300), (-11400.4, 5274.37)),
((-225, -275), (1165.11, -17966.9)),
((-225, -250), (-1.00002e+09, -9.9998e+08)),
((-225, -225), (-1.00002e+09, -9.99982e+08)),
((-225, -200), (-3.68935e+19, 51766.1)),
((-225, -175), (-5696.54, 4018.33)),
((-225, -150), (-1.00002e+09, -9.99989e+08)),
((-225, -125), (-1.00002e+09, -9.99991e+08)),
((-225, -100), (-1.00002e+09, -9.99994e+08)),
((-225, -75), (-3291.06, 31370)),
((-225, -50), (-4515.17, -16578.8)),
((-225, -25), (3.68935e+19, -1e+09)),
((-225, 0), (-3.68935e+19, -1e+09)),
((-225, 25), (-1.00002e+09, -1e+09)),
((-225, 50), (-4683.29, 11183.3)),
((-225, 75), (-3511.06, -36839.1)),
((-225, 100), (-1.00002e+09, -1.00001e+09)),
((-225, 125), (-1.00002e+09, -1.00001e+09)),
((-225, 150), (-1.00002e+09, -1.00002e+09)),
((-225, 175), (3.68935e+19, -9773.24)),
((-225, 200), (-2111.64, -57568)),
((-225, 225), (-1.00002e+09, -1.00002e+09)),
((-225, 250), (-1.00002e+09, -1.00003e+09)),
((-225, 275), (3.68935e+19, 12074.2)),
((-225, 300), (-11549.2, -11185.7)),
((-225, 325), (-16617.7, -33706.1)),
((-225, 350), (-3.68935e+19, -36183.4)),
((-225, 375), (-16704.7, -38664.1)),
((-225, 400), (-16746.1, -41147.5)),
((-200, -400), (-19047, 35240.6)),
((-200, -375), (-18998.9, 32769.7)),
((-200, -350), (-18940, 30304)),
((-200, -325), (-18877.7, 27844.6)),
((-200, -300), (-13038.7, 16739.7)),
((-200, -275), (3358.53, 3616.87)),
((-200, -250), (19518.9, 10274.1)),
((-200, -225), (17591.7, 32281.1)),
((-200, -200), (-134.107, 34048.7)),
((-200, -175), (-6606.46, 6867.62)),
((-200, -150), (7725.7, -8535.53)),
((-200, -125), (-3.68935e+19, 3260.78)),
((-200, -100), (15640.4, 23251.1)),
((-200, -75), (-3233.53, 20730.4)),
((-200, -50), (-5530.91, -10989.7)),
((-200, -25), (-3.68935e+19, -19180.7)),
((-200, 0), (11887.8, -2703)),
((-200, 25), (3.68935e+19, 13761)),
((-200, 50), (-5662.04, 5533.44)),
((-200, 75), (-3411.96, -26239.7)),
((-200, 100), (15431.5, -28821.8)),
((-200, 125), (21104.4, -8893.75)),
((-200, 150), (7495.3, 2844.46)),
((-200, 175), (-6829.04, -12610)),
((-200, 200), (-343.631, -39834.8)),
((-200, 225), (17394, -38103.6)),
((-200, 250), (-3.68935e+19, -16126.5)),
((-200, 275), (3.68935e+19, -9493.71)),
((-200, 300), (-13194.6, -22636.4)),
((-200, 325), (-3.68935e+19, -33757.5)),
((-200, 350), (-19068.5, -36230.2)),
((-200, 375), (-19112.4, -38706.7)),
((-200, 400), (-19156.5, -41186.6)),
((-175, -400), (-21460.8, 35291.2)),
((-175, -375), (-21407.5, 32824.8)),
((-175, -350), (-3.68935e+19, 30363.9)),
((-175, -325), (-21287.1, 27909.8)),
((-175, -300), (-21972.3, 24640.3)),
((-175, -275), (-28110, 9610.46)),
((-175, -250), (-3.68935e+19, 13295.4)),
((-175, -225), (-30192.3, 28453.6)),
((-175, -200), (-27360.7, 27568.7)),
((-175, -175), (-24164.9, 10072.6)),
((-175, -150), (-28256.7, -3028.56)),
((-175, -125), (-30563.7, 4923.57)),
((-175, -100), (-29271.3, 18868.7)),
((-175, -75), (-26558.9, 13322.8)),
((-175, -50), (-26157.5, -3983.52)),
((-175, -25), (-27695.5, -18727.8)),
((-175, 0), (-1.00003e+09, -1e+09)),
((-175, 25), (3.68935e+19, 13249.8)),
((-175, 50), (-26254.1, -1531.39)),
((-175, 75), (-26707.7, -18869.3)),
((-175, 100), (-29449.3, -24462.3)),
((-175, 125), (-30757.2, -10566.9)),
((-175, 150), (-28457.7, -2663.23)),
((-175, 175), (-24365.6, -15809)),
((-175, 200), (-27561.9, -33344.6)),
((-175, 225), (-30384.4, -34263.7)),
((-175, 250), (-30875.8, -19134.6)),
((-175, 275), (-28275.5, -15474.1)),
((-175, 300), (3.68935e+19, -30524.3)),
((-175, 325), (-21427.3, -33810.7)),
((-175, 350), (-21481, -36279.1)),
((-175, 375), (-21530.7, -38751.7)),
((-175, 400), (-3.68935e+19, -41227.9)),
((-150, -400), (-3.68935e+19, 35342.8)),
((-150, -375), (3.68935e+19, 32880.5)),
((-150, -350), (-23768.7, 30424)),
((-150, -325), (-3.68935e+19, 27974.2)),
((-150, -300), (-30541.2, 11732.5)),
((-150, -275), (-47271, -4546.8)),
((-150, -250), (-1.00002e+09, -9.99979e+08)),
((-150, -225), (-1.00002e+09, -9.99982e+08)),
((-150, -200), (3.68935e+19, 41884.1)),
((-150, -175), (-37357.3, 5977.16)),
((-150, -150), (-51541, -17209.5)),
((-150, -125), (-1.00002e+09, -9.99991e+08)),
((-150, -100), (-3.68935e+19, 32229.6)),
((-150, -75), (-39441.3, 26192)),
((-150, -50), (-3.68935e+19, -13068.5)),
((-150, -25), (-56388.2, -28272)),
((-150, 0), (-1.00002e+09, -1e+09)),
((-150, 25), (3.68935e+19, 22746.7)),
((-150, 50), (-38034.9, 7506.01)),
((-150, 75), (-39560.6, -31789.1)),
((-150, 100), (-61878.8, -37846.1)),
((-150, 125), (-1.00002e+09, -1.00001e+09)),
((-150, 150), (-51718.9, 11512.6)),
((-150, 175), (-37542.8, -11712.4)),
((-150, 200), (-43034.7, -47654.6)),
((-150, 225), (-1.00002e+09, -1.00002e+09)),
((-150, 250), (-1.00002e+09, -1.00003e+09)),
((-150, 275), (-47431.5, -1306.27)),
((-150, 300), (-30692.3, -17605.8)),
((-150, 325), (-23850.4, -33864.8)),
((-150, 350), (3.68935e+19, -36329.2)),
((-150, 375), (3.68935e+19, -38798.1)),
((-150, 400), (-23994.8, -41271)),
((-125, -400), (-26307, 35394.8)),
((-125, -375), (-3.68935e+19, 32936.1)),
((-125, -350), (-26198.5, 30483.2)),
((-125, -325), (3.68935e+19, 28037.1)),
((-125, -300), (-27925, 3372.94)),
((-125, -275), (-32675.5, -23512)),
((-125, -250), (-1.00003e+09, -9.99979e+08)),
((-125, -225), (-1.00003e+09, -9.99982e+08)),
((-125, -200), (-31179.9, 55471.9)),
((-125, -175), (-29527.3, 3663)),
((-125, -150), (-1.00003e+09, -9.99989e+08)),
((-125, -125), (-1.00003e+09, -9.99991e+08)),
((-125, -100), (-1.00003e+09, -9.99993e+08)),
((-125, -75), (-30124.5, 33857.2)),
((-125, -50), (-29592.5, -17943.1)),
((-125, -25), (-1.00003e+09, -1e+09)),
((-125, 0), (-3.68935e+19, -1e+09)),
((-125, 25), (3.68935e+19, -1.00001e+09)),
((-125, 50), (-29665.6, 12337.1)),
((-125, 75), (-30228.4, -39486.6)),
((-125, 100), (-1.00003e+09, -1.00001e+09)),
((-125, 125), (-1.00003e+09, -1.00001e+09)),
((-125, 150), (3.68935e+19, -1.00002e+09)),
((-125, 175), (-29695, -9400.49)),
((-125, 200), (-31344.9, -61240.4)),
((-125, 225), (-1.00003e+09, -1.00002e+09)),
((-125, 250), (-1.00003e+09, -1.00003e+09)),
((-125, 275), (-3.68935e+19, 17667)),
((-125, 300), (3.68935e+19, -9237.67)),
((-125, 325), (-26275.2, -33918.9)),
((-125, 350), (-3.68935e+19, -36379.8)),
((-125, 375), (-26376.5, -38845.4)),
((-125, 400), (3.68935e+19, -41315.1)),
((-100, -400), (-28740.4, 35446.5)),
((-100, -375), (-28687.6, 32990.8)),
((-100, -350), (-28632.1, 30540.9)),
((-100, -325), (-28571.9, 28097.7)),
((-100, -300), (-22421.2, 7385.37)),
((-100, -275), (-7514.06, -13404.6)),
((-100, -250), (-1.00003e+09, -9.99979e+08)),
((-100, -225), (3.68935e+19, -9.99982e+08)),
((-100, -200), (-11348.1, 49766.6)),
((-100, -175), (-15736.5, 4948.64)),
((-100, -150), (-2374.24, -27396)),
((-100, -125), (-1.00003e+09, -9.99991e+08)),
((-100, -100), (-1.00003e+09, -9.99993e+08)),
((-100, -75), (-13249.8, 29880.2)),
((-100, -50), (-14692.4, -15403)),
((-100, -25), (3.68935e+19, -1e+09)),
((-100, 0), (-3.68935e+19, -1e+09)),
((-100, 25), (-1.00003e+09, -1.00001e+09)),
((-100, 50), (-14766, 9769.51)),
((-100, 75), (-13349.2, -35534.7)),
((-100, 100), (-1.00003e+09, -1.00001e+09)),
((-100, 125), (-3.68935e+19, -1.00001e+09)),
((-100, 150), (-2516.21, 21682.2)),
((-100, 175), (-15887.9, -10690.6)),
((-100, 200), (-11503, -55535.8)),
((-100, 225), (-1.00003e+09, -1.00002e+09)),
((-100, 250), (-1.00003e+09, -1.00003e+09)),
((-100, 275), (-7660.65, 7565.37)),
((-100, 300), (-22562.4, -13243.4)),
((-100, 325), (-28709.1, -33972.4)),
((-100, 350), (-28760.7, -36430.2)),
((-100, 375), (-28809.5, -38892.9)),
((-100, 400), (3.68935e+19, -41359.7)),
((-75, -400), (-3.68935e+19, 35497.4)),
((-75, -375), (-31128.6, 33044.2)),
((-75, -350), (-31074.9, 30596.8)),
((-75, -325), (-31021.1, 28155.8)),
((-75, -300), (-26455.1, 19713.2)),
((-75, -275), (-10774.8, 7639.28)),
((-75, -250), (-2082.81, 12074.8)),
((-75, -225), (-3416.89, 30745)),
((-75, -200), (-14058.4, 30890.3)),
((-75, -175), (-21458.5, 7665.03)),
((-75, -150), (-8580.03, -5105.33)),
((-75, -125), (-902.235, 4338.53)),
((-75, -100), (-4872.33, 21349.7)),
((-75, -75), (3.68935e+19, 17569.7)),
((-75, -50), (-20306.8, -9448.28)),
((-75, -25), (-3862.83, -16342.6)),
((-75, 0), (-8107.72, -2807.83)),
((-75, 25), (-3904.24, 10711.6)),
((-75, 50), (-20375.2, 3794.44)),
((-75, 75), (-17252.9, -23229.1)),
((-75, 100), (-4968.53, -27028)),
((-75, 125), (-1016.69, -10038.7)),
((-75, 150), (3.68935e+19, -618.427)),
((-75, 175), (-21591.4, -13412.9)),
((-75, 200), (-14198, -36661.9)),
((-75, 225), (-3556.4, -36539.4)),
((-75, 250), (-2225.82, -17890.5)),
((-75, 275), (-10913.5, -13474.6)),
((-75, 300), (3.68935e+19, -25566.3)),
((-75, 325), (3.68935e+19, -34024.8)),
((-75, 350), (-31200.1, -36480.1)),
((-75, 375), (-31248.3, -38940.1)),
((-75, 400), (-31294.1, -41404.5)),
((-50, -400), (-33627.6, 35547.1)),
((-50, -375), (-33905, 32347.9)),
((-50, -350), (-1.00003e+09, -9.99969e+08)),
((-50, -325), (-36378, 32096.2)),
((-50, -300), (-36238.6, 22391.8)),
((-50, -275), (-47157.1, 9136.2)),
((-50, -250), (-52533.7, 13085.1)),
((-50, -225), (-51602.6, 29524.4)),
((-50, -200), (-45991.6, 28607.2)),
((-50, -175), (-38962.9, 8081.52)),
((-50, -150), (3.68935e+19, -3602.78)),
((-50, -125), (-52870, 4887.3)),
((-50, -100), (-50312.1, 19919)),
((-50, -75), (-44346.2, 14441.8)),
((-50, -50), (-1.00003e+09, -9.99998e+08)),
((-50, -25), (3.68935e+19, 3035.19)),
((-50, 0), (-1.00002e+09, -1e+09)),
((-50, 25), (-26456.6, -8696.46)),
((-50, 50), (-1.00003e+09, -1.00001e+09)),
((-50, 75), (-44416.2, -20122.2)),
((-50, 100), (-50398.4, -25614.9)),
((-50, 125), (-52971.5, -10601.4)),
((-50, 150), (-48132.4, -2131.18)),
((-50, 175), (-39084.8, -13836.2)),
((-50, 200), (3.68935e+19, -34382.7)),
((-50, 225), (-51735.3, -35320)),
((-50, 250), (-52665.2, -18900.1)),
((-50, 275), (-47287.7, -14969.2)),
((-50, 300), (-36367, -28241.4)),
((-50, 325), (-35443.7, -37705)),
((-50, 350), (-1.00003e+09, -1.00004e+09)),
((-50, 375), (3.68935e+19, -38238.7)),
((-50, 400), (-33737.5, -41448.9)),
((-25, -400), (-36076.3, 35595.3)),
((-25, -375), (-35928.4, 32943.4)),
((-25, -350), (-21368.9, 16989.5)),
((-25, -325), (-1.00003e+09, -9.99969e+08)),
((-25, -300), (-42611.9, 9667.5)),
((-25, -275), (-58784.1, -8735.77)),
((-25, -250), (-1.00004e+09, -9.99979e+08)),
((-25, -225), (-1.00004e+09, -9.99981e+08)),
((-25, -200), (-54411.1, 46143.3)),
((-25, -175), (-53913.1, 6577.86)),
((-25, -150), (3.68935e+19, -21996.2)),
((-25, -125), (-3.68935e+19, -9.99991e+08)),
((-25, -100), (3.68935e+19, -9.99993e+08)),
((-25, -75), (-51395.7, 30902.8)),
((-25, -50), (-32002.1, 8476)),
((-25, -25), (-34218.2, 810.665)),
((-25, 0), (-35506.4, -2840.51)),
((-25, 25), (-34237.2, -6493.77)),
((-25, 50), (-32039.3, -14165.2)),
((-25, 75), (-3.68935e+19, -36601.8)),
((-25, 100), (-1.00004e+09, -1.00001e+09)),
((-25, 125), (-1.00004e+09, -1.00001e+09)),
((-25, 150), (-63521.1, 16252.1)),
((-25, 175), (-54023.6, -12339.8)),
((-25, 200), (3.68935e+19, -51923.4)),
((-25, 225), (-1.00004e+09, -1.00002e+09)),
((-25, 250), (-1.00004e+09, -1.00003e+09)),
((-25, 275), (3.68935e+19, 2903.83)),
((-25, 300), (-42733.5, -15514.8)),
((-25, 325), (3.68935e+19, -37087)),
((-25, 350), (-3.68935e+19, -34309.5)),
((-25, 375), (-36039.5, -38830)),
((-25, 400), (-3.68935e+19, -41492.7)),
((0, -400), (-38533.8, 35641.9)),
((0, -375), (-38483.5, 33193.7)),
((0, -350), (-3.68935e+19, 28569.7)),
((0, -325), (-38390.4, 32639.1)),
((0, -300), (-38342.3, 3370.17)),
((0, -275), (-38294.5, -24055.5)),
((0, -250), (-1.00004e+09, -9.99979e+08)),
((0, -225), (-3.68935e+19, -9.99981e+08)),
((0, -200), (-38159.3, 46117.6)),
((0, -175), (-1.00004e+09, -9.99996e+08)),
((0, -150), (-1.00004e+09, -9.99988e+08)),
((0, -125), (3.68935e+19, -9.99991e+08)),
((0, -100), (3.68935e+19, -9.99993e+08)),
((0, -75), (-38012.5, 26687.2)),
((0, -50), (-1.00004e+09, -9.99986e+08)),
((0, -25), (-3.68935e+19, -474.998)),
((0, 0), (-3.68935e+19, -2850.42)),
((0, 25), (-38018.6, -5227.56)),
((0, 50), (-1.00004e+09, -1.00002e+09)),
((0, 75), (-38063.5, -32403)),
((0, 100), (-1.00004e+09, -1.00001e+09)),
((0, 125), (-1.00004e+09, -1.00001e+09)),
((0, 150), (-3.68935e+19, -1.00002e+09)),
((0, 175), (-1.00004e+09, -1.00001e+09)),
((0, 200), (-38268.2, -51902.9)),
((0, 225), (-1.00004e+09, -1.00002e+09)),
((0, 250), (-1.00004e+09, -1.00003e+09)),
((0, 275), (-38409.6, 18223.6)),
((0, 300), (-38459.3, -9216.34)),
((0, 325), (-45440.8, -36335.5)),
((0, 350), (-39856.2, -35532)),
((0, 375), (-38592.6, -39077)),
((0, 400), (-3.68935e+19, -41535.6)),
((25, -400), (-3.68935e+19, 35686.8)),
((25, -375), (-41046.9, 33037)),
((25, -350), (-55514, 17084.7)),
((25, -325), (-1.00004e+09, -9.99969e+08)),
((25, -300), (-3.68935e+19, 9763.64)),
((25, -275), (3.68935e+19, -8640.72)),
((25, -250), (-1.00004e+09, -9.99979e+08)),
((25, -225), (-3.68935e+19, -9.99981e+08)),
((25, -200), (-21912.4, 46226.3)),
((25, -175), (-22328.6, 6653.34)),
((25, -150), (-12751.1, -21930.1)),
((25, -125), (-3.68935e+19, -9.99991e+08)),
((25, -100), (-1.00004e+09, -9.99993e+08)),
((25, -75), (-24629.6, 30930.5)),
((25, -50), (-44004.9, 8488.5)),
((25, -25), (-3.68935e+19, 807.526)),
((25, 0), (-40505, -2859.18)),
((25, 25), (-41800.5, -6527.32)),
((25, 50), (-3.68935e+19, -14212.5)),
((25, 75), (-24678.9, -36661.4)),
((25, 100), (-1.00004e+09, -1.00001e+09)),
((25, 125), (-1.00004e+09, -1.00001e+09)),
((25, 150), (-3.68935e+19, 16166.6)),
((25, 175), (-22420.1, -12430.3)),
((25, 200), (3.68935e+19, -52017.2)),
((25, 225), (-1.00004e+09, -1.00002e+09)),
((25, 250), (-1.00004e+09, -1.00003e+09)),
((25, 275), (-17916.6, 2807.96)),
((25, 300), (-34185.3, -15609.5)),
((25, 325), (3.68935e+19, -1.00004e+09)),
((25, 350), (-55620.8, -22954.7)),
((25, 375), (-41151.9, -38917.8)),
((25, 400), (-41094.1, -41577.5)),
((50, -400), (-43453.1, 35729.8)),
((50, -375), (3.68935e+19, 32535.1)),
((50, -350), (-1.00004e+09, -9.99969e+08)),
((50, -325), (-40422.1, 32288.6)),
((50, -300), (-40462.8, 22584.4)),
((50, -275), (-25647.9, 11226.8)),
((50, -250), (-12294.7, 14939.9)),
((50, -225), (-14135.8, 27414.1)),
((50, -200), (-28696.9, 27837.3)),
((50, -175), (-37285.8, 8233.61)),
((50, -150), (-28154.5, -3469.46)),
((50, -125), (-23242.9, 4998.08)),
((50, -100), (-25750.5, 20003.8)),
((50, -75), (-31680.1, 14497.9)),
((50, -50), (-1.00004e+09, -9.99998e+08)),
((50, -25), (-59628.7, -563.639)),
((50, 0), (-1.00007e+09, -1e+09)),
((50, 25), (-59645.3, -5171.51)),
((50, 50), (-1.00004e+09, -1.00001e+09)),
((50, 75), (-31722.5, -20242.4)),
((50, 100), (-25803.3, -25756.2)),
((50, 125), (-23306.8, -10759.9)),
((50, 150), (-28230, -2303.1)),
((50, 175), (-37369.4, -14017.9)),
((50, 200), (-3.68935e+19, -34570.8)),
((50, 225), (-24908.2, -35511.7)),
((50, 250), (-24076.9, -19092.9)),
((50, 275), (3.68935e+19, -15161)),
((50, 300), (-40565, -28430.6)),
((50, 325), (-40522.5, -38146.4)),
((50, 350), (-1.00004e+09, -1.00004e+09)),
((50, 375), (-43186, -38414)),
((50, 400), (-43554, -41618.3)),
((75, -400), (-45922.2, 35771)),
((75, -375), (-3.68935e+19, 33324.7)),
((75, -350), (-45841.3, 30882.6)),
((75, -325), (3.68935e+19, 28444.8)),
((75, -300), (-45761.3, 26011.7)),
((75, -275), (3.68935e+19, 23583.2)),
((75, -250), (3.68935e+19, 20254.5)),
((75, -225), (-3.68935e+19, 19922.2)),
((75, -200), (-45615, 16326.1)),
((75, -175), (-52838.2, 5056.17)),
((75, -150), (-67606.7, -4902.45)),
((75, -125), (-3.68935e+19, 4507.42)),
((75, -100), (-71193.9, 21479.2)),
((75, -75), (-58854.9, 17655.4)),
((75, -50), (-67558.6, -22594)),
((75, -25), (-101447, -32640.1)),
((75, 0), (-107917, -2873.93)),
((75, 25), (-101458, 26891.2)),
((75, 50), (-67584.6, 16842)),
((75, 75), (-58891.1, -23412.3)),
((75, 100), (-71245.4, -27242.9)),
((75, 125), (-75278.8, -10279.2)),
((75, 150), (-67671.6, -878.717)),
((75, 175), (-54878.7, -13687.4)),
((75, 200), (-62369.3, -36945.6)),
((75, 225), (-73104, -36828)),
((75, 250), (-74536, -18180.3)),
((75, 275), (-65949.2, -13762.6)),
((75, 300), (-50366, -25850.2)),
((75, 325), (-45900, -34302.7)),
((75, 350), (-45938.3, -36750.6)),
((75, 375), (-45978.1, -39202.4)),
((75, 400), (-46017.3, -41657.8)),
((100, -400), (3.68935e+19, 35810.3)),
((100, -375), (-48353.8, 33364.2)),
((100, -350), (-48315.5, 30921.9)),
((100, -325), (-48277.5, 28483.7)),
((100, -300), (-48240.2, 26049.7)),
((100, -275), (-48204, 23620)),
((100, -250), (-48169.4, 21194.5)),
((100, -225), (-48134.7, 18773.3)),
((100, -200), (-48118.3, 16308.9)),
((100, -175), (-56278.7, -8600.24)),
((100, -150), (3.68935e+19, -27120)),
((100, -125), (-1.00005e+09, -9.99991e+08)),
((100, -100), (-1.00005e+09, -9.99993e+08)),
((100, -75), (-3.68935e+19, 22865.3)),
((100, -50), (-72881.1, -44273.7)),
((100, -25), (-2.00005e+09, -2e+09)),
((100, 0), (-2.00005e+09, -2e+09)),
((100, 25), (-2.00005e+09, -2.00001e+09)),
((100, 50), (-72902.6, 38509.7)),
((100, 75), (-64716.8, -28633.5)),
((100, 100), (-3.68935e+19, -1.00001e+09)),
((100, 125), (3.68935e+19, -1.00001e+09)),
((100, 150), (-73887, 21330.6)),
((100, 175), (-60612.3, -11060.3)),
((100, 200), (-65094.8, -55916.9)),
((100, 225), (3.68935e+19, -1.00002e+09)),
((100, 250), (-1.00005e+09, -1.00003e+09)),
((100, 275), (-69231.5, 7181.04)),
((100, 300), (-54423, -13621.6)),
((100, 325), (-48369.2, -34342.2)),
((100, 350), (-3.68935e+19, -36789.8)),
((100, 375), (-3.68935e+19, -39241.2)),
((100, 400), (-48483.6, -41695.9)),
((125, -400), (-50865.2, 35847.9)),
((125, -375), (-50826.6, 33401.6)),
((125, -350), (-50794.2, 30959.1)),
((125, -325), (-50754.4, 28520.3)),
((125, -300), (-50721.4, 26085.3)),
((125, -275), (-50687.6, 23654.2)),
((125, -250), (3.68935e+19, 21227)),
((125, -225), (-50625.1, 18803.6)),
((125, -200), (-50452.4, 14033.7)),
((125, -175), (-48102, -13204.5)),
((125, -150), (-1.00005e+09, -9.99988e+08)),
((125, -125), (3.68935e+19, -9.99991e+08)),
((125, -100), (-1.00005e+09, -9.99993e+08)),
((125, -75), (-3.68935e+19, 24195.6)),
((125, -50), (-42952.8, -52454.5)),
((125, -25), (-2.00005e+09, -2e+09)),
((125, 0), (-2.00005e+09, -2e+09)),
((125, 25), (-2.00005e+09, -2.00001e+09)),
((125, 50), (-42974.2, 46679.6)),
((125, 75), (-45286.4, -29974.1)),
((125, 100), (-1.00005e+09, -1.00001e+09)),
((125, 125), (-1.00005e+09, -1.00001e+09)),
((125, 150), (-1.00005e+09, -1.00002e+09)),
((125, 175), (-3.68935e+19, -9868.37)),
((125, 200), (-45289, -61721)),
((125, 225), (-1.00005e+09, -1.00002e+09)),
((125, 250), (-1.00005e+09, -1.00003e+09)),
((125, 275), (-3.68935e+19, 17186.3)),
((125, 300), (-48954.6, -9709.78)),
((125, 325), (-50843.2, -34379.7)),
((125, 350), (-50879.9, -36827.3)),
((125, 375), (-50916.4, -39278.4)),
((125, 400), (-50952.7, -41732.7)),
((150, -400), (-53338.6, 35883.6)),
((150, -375), (-53305.7, 33437.2)),
((150, -350), (-53273.3, 30994.2)),
((150, -325), (-53237.5, 28554.7)),
((150, -300), (-53204.7, 26118.7)),
((150, -275), (-53171.1, 23686.2)),
((150, -250), (-53145, 21257.2)),
((150, -225), (-53115, 18831.7)),
((150, -200), (-3.68935e+19, 16409.4)),
((150, -175), (-43555.6, -3445.79)),
((150, -150), (-24702, -16770.3)),
((150, -125), (-1.00005e+09, -9.99991e+08)),
((150, -100), (-14362.8, 32516.3)),
((150, -75), (-35027.9, 22460.2)),
((150, -50), (-24315.1, -35872.6)),
((150, -25), (15685.3, -57719.7)),
((150, 0), (3.68935e+19, -2e+09)),
((150, 25), (15673.5, 51936.9)),
((150, 50), (-24334.6, 30087.8)),
((150, 75), (-35056.7, -28248.2)),
((150, 100), (-3.68935e+19, -38308.7)),
((150, 125), (-1.00005e+09, -1.00001e+09)),
((150, 150), (-24753.2, 10966.1)),
((150, 175), (-39036.6, -12282.1)),
((150, 200), (-33650.3, -48237.1)),
((150, 225), (-1.00005e+09, -1.00002e+09)),
((150, 250), (-1.00005e+09, -1.00003e+09)),
((150, 275), (-3.68935e+19, -1883.13)),
((150, 300), (-46385, -18171)),
((150, 325), (-53321.6, -34415.4)),
((150, 350), (-3.68935e+19, -36863.1)),
((150, 375), (-53389.5, -39314.1)),
((150, 400), (-53424.4, -41768.2)),
((175, -400), (-55818.1, 35917.7)),
((175, -375), (-55787, 33471)),
((175, -350), (-55750.4, 31027.4)),
((175, -325), (-55720.5, 28587)),
((175, -300), (-55689.6, 26149.9)),
((175, -275), (-63308.5, 19597.6)),
((175, -250), (-72185.5, 18738.9)),
((175, -225), (-71005.8, 22411)),
((175, -200), (-3.68935e+19, 19676.7)),
((175, -175), (-3.68935e+19, 10667)),
((175, -150), (-48024.8, -2495.97)),
((175, -125), (-45620.6, 5375.5)),
((175, -100), (-46833.6, 19221.1)),
((175, -75), (3.68935e+19, 13559)),
((175, -50), (-41955.3, -11057.3)),
((175, -25), (-25918.1, -28934.4)),
((175, 0), (-1.00002e+09, -1e+09)),
((175, 25), (-25927.1, 23142.2)),
((175, 50), (-41971.2, 5263.4)),
((175, 75), (-49514.4, -19355.8)),
((175, 100), (-46868.2, -25021.8)),
((175, 125), (-3.68935e+19, -11181)),
((175, 150), (-48071.9, -3315.14)),
((175, 175), (-52272.2, -16484.4)),
((175, 200), (3.68935e+19, -34031.5)),
((175, 225), (-46466.1, -34952.6)),
((175, 250), (3.68935e+19, -19818)),
((175, 275), (-3.68935e+19, -16146.3)),
((175, 300), (-55010.7, -31181.2)),
((175, 325), (-55800.2, -34449.3)),
((175, 350), (3.68935e+19, -36897.3)),
((175, 375), (-3.68935e+19, -39348.3)),
((175, 400), (-55898.3, -41802.2)),
((200, -400), (3.68935e+19, 35950.2)),
((200, -375), (-58266.2, 33503.1)),
((200, -350), (-3.68935e+19, 31058.8)),
((200, -325), (3.68935e+19, 28617.6)),
((200, -300), (-63945, 17526.1)),
((200, -275), (-80242.2, 4410.13)),
((200, -250), (-98169.6, 11299.7)),
((200, -225), (-95355.3, 32853.3)),
((200, -200), (-76419.8, 34798.8)),
((200, -175), (-69832.3, 7571.75)),
((200, -150), (-84045.6, -7898.77)),
((200, -125), (-97546.1, 3806.13)),
((200, -100), (-91766.1, 23680.1)),
((200, -75), (3.68935e+19, 21019.8)),
((200, -50), (-70482.1, -10857.3)),
((200, -25), (-86838.4, -19567.4)),
((200, 0), (-82902.4, -2900.12)),
((200, 25), (-86846.6, 13766.6)),
((200, 50), (-70498.5, 5054.99)),
((200, 75), (-72847.2, -26824.6)),
((200, 100), (-91798, -29488.3)),
((200, 125), (-97587.1, -9618.66)),
((200, 150), (-84093.1, 2081.22)),
((200, 175), (-69881.7, -13394.9)),
((200, 200), (-76476.5, -40628.1)),
((200, 225), (-94319, -38895)),
((200, 250), (-96361.2, -16908.2)),
((200, 275), (-80312.9, -10259.9)),
((200, 300), (-64014.4, -23383)),
((200, 325), (-3.68935e+19, -34481.6)),
((200, 350), (3.68935e+19, -36929.9)),
((200, 375), (-58342.3, -39381.1)),
((200, 400), (-58376.4, -41835)),
((225, -400), (-60779, 35981.2)),
((225, -375), (-60749, 33533.5)),
((225, -350), (3.68935e+19, 31088.5)),
((225, -325), (-60691.3, 28646.3)),
((225, -300), (-65675.8, 6159.53)),
((225, -275), (-78140.6, -17069.4)),
((225, -250), (-1.00006e+09, -9.99979e+08)),
((225, -225), (3.68935e+19, -9.99981e+08)),
((225, -200), (-74747.4, 52634.8)),
((225, -175), (-70815.1, 4842.37)),
((225, -150), (-1.00006e+09, -9.99988e+08)),
((225, -125), (-1.00006e+09, -9.99991e+08)),
((225, -100), (-1.00006e+09, -9.99993e+08)),
((225, -75), (-72781.1, 31724.5)),
((225, -50), (-71498.8, -16415.7)),
((225, -25), (-1.00006e+09, -1e+09)),
((225, 0), (-1.00006e+09, -1e+09)),
((225, 25), (-1.00006e+09, -1.00001e+09)),
((225, 50), (3.68935e+19, 10605.7)),
((225, 75), (-72799.6, -37536.8)),
((225, 100), (-1.00006e+09, -1.00001e+09)),
((225, 125), (-1.00006e+09, -1.00002e+09)),
((225, 150), (3.68935e+19, -1.00002e+09)),
((225, 175), (-70863, -10671)),
((225, 200), (-74800.4, -58469)),
((225, 225), (-1.00006e+09, -1.00002e+09)),
((225, 250), (3.68935e+19, -1.00003e+09)),
((225, 275), (-78205.2, 11216.6)),
((225, 300), (-65741.2, -12018.8)),
((225, 325), (-60761, -34512.2)),
((225, 350), (-3.68935e+19, -36961)),
((225, 375), (-60821.6, -39412.4)),
((225, 400), (3.68935e+19, -41866.4)),
((250, -400), (-63261.9, 36010.6)),
((250, -375), (-63233.4, 33562.3)),
((250, -350), (-63205.7, 31116.6)),
((250, -325), (-63178.8, 28673.4)),
((250, -300), (3.68935e+19, 4844.54)),
((250, -275), (-50461, -20541.6)),
((250, -250), (-1.00006e+09, -9.99979e+08)),
((250, -225), (-1.00006e+09, -9.99981e+08)),
((250, -200), (-52819, 54667.5)),
((250, -175), (-55741.6, 4436)),
((250, -150), (-1.00006e+09, -9.99988e+08)),
((250, -125), (-1.00006e+09, -9.99991e+08)),
((250, -100), (-1.00006e+09, -9.99993e+08)),
((250, -75), (-54202.7, 33120.8)),
((250, -50), (-55150.4, -17288.5)),
((250, -25), (-1.00006e+09, -1e+09)),
((250, 0), (-1.00006e+09, -1e+09)),
((250, 25), (-1.00006e+09, -1.00001e+09)),
((250, 50), (3.68935e+19, 11471.3)),
((250, 75), (-54219.5, -38940)),
((250, 100), (-1.00006e+09, -1.00001e+09)),
((250, 125), (-1.00006e+09, -1.00002e+09)),
((250, 150), (3.68935e+19, -1.00002e+09)),
((250, 175), (-55786.2, -10269.9)),
((250, 200), (-52870.5, -60506.4)),
((250, 225), (-1.00006e+09, -1.00002e+09)),
((250, 250), (3.68935e+19, -1.00003e+09)),
((250, 275), (-50521.9, 14685.8)),
((250, 300), (-59652, -10706.4)),
((250, 325), (-63242.7, -34541.3)),
((250, 350), (-63273.4, -36990.6)),
((250, 375), (3.68935e+19, -39442.3)),
((250, 400), (-63332, -41896.5)),
((275, -400), (-65746.2, 36038.7)),
((275, -375), (-65717.1, 33589.8)),
((275, -350), (-65694.8, 31143.3)),
((275, -325), (3.68935e+19, 28699.1)),
((275, -300), (-59070.2, 14986.1)),
((275, -275), (-42276, 473.621)),
((275, -250), (-21262.3, 8712.75)),
((275, -225), (-24739.1, 36447.6)),
((275, -200), (-46226.8, 38607.3)),
((275, -175), (-52128.1, 7117.16)),
((275, -150), (-37881.9, -12047.4)),
((275, -125), (-3.68935e+19, 2552.46)),
((275, -100), (-28873.1, 27730.6)),
((275, -75), (3.68935e+19, 24497.1)),
((275, -50), (3.68935e+19, -11854.8)),
((275, -25), (-33358.2, -23443.7)),
((275, 0), (-17991.1, -2911.19)),
((275, 25), (3.68935e+19, 17620.9)),
((275, 50), (-51299, 6030.96)),
((275, 75), (-49867, -30322.7)),
((275, 100), (-28894.6, -33558.6)),
((275, 125), (-18869.1, -8383.58)),
((275, 150), (-37918.6, 6212.7)),
((275, 175), (-52169.8, -12956)),
((275, 200), (-46273.1, -44450.7)),
((275, 225), (-24789.6, -42295.8)),
((275, 250), (-21316.4, -14566.2)),
((275, 275), (-42335.4, -6332.45)),
((275, 300), (-59128.4, -20850.4)),
((275, 325), (-65729.9, -34569)),
((275, 350), (-65755.2, -37018.9)),
((275, 375), (-65785, -39471)),
((275, 400), (-65811.2, -41925.4)),
((300, -400), (-68229.8, 36065.4)),
((300, -375), (3.68935e+19, 33615.8)),
((300, -350), (-68181, 31168.5)),
((300, -325), (-68157, 28723.3)),
((300, -300), (-68132, 26280.3)),
((300, -275), (-56841.1, 17264.5)),
((300, -250), (-3.68935e+19, 17835.6)),
((300, -225), (3.68935e+19, 23975.1)),
((300, -200), (3.68935e+19, 22296.8)),
((300, -175), (-67218.3, 13339.7)),
((300, -150), (-54228.8, 4762.08)),
((300, -125), (-45792.3, 7378.88)),
((300, -100), (-49733.2, 12893.2)),
((300, -75), (-61993.4, 8878.24)),
((300, -50), (-64612.2, -879.305)),
((300, -25), (-51836.2, -7220.67)),
((300, 0), (-45492.9, -2914.36)),
((300, 25), (-3.68935e+19, 1391.62)),
((300, 50), (-64626.3, -4950.73)),
((300, 75), (-62013.4, -14709.8)),
((300, 100), (-49758.9, -18727)),
((300, 125), (-45821.4, -13215.5)),
((300, 150), (-54263, -10601.9)),
((300, 175), (-67259.4, -19183.2)),
((300, 200), (-59446.7, -28144.5)),
((300, 225), (-48073.5, -29827.3)),
((300, 250), (-46754.8, -23692.5)),
((300, 275), (-56895.3, -23126.3)),
((300, 300), (-68190.9, -32147.2)),
((300, 325), (-3.68935e+19, -34595.4)),
((300, 350), (-68242.3, -37045.8)),
((300, 375), (-68266.9, -39498.4)),
((300, 400), (-68166.1, -41873.4)),
((325, -400), (-70718.6, 36090.9)),
((325, -375), (3.68935e+19, 33640.6)),
((325, -350), (-70670.3, 31192.4)),
((325, -325), (-70647.5, 28746.2)),
((325, -300), (-70623.8, 26302)),
((325, -275), (-70607.3, 23859.7)),
((325, -250), (-70588.2, 21419.3)),
((325, -225), (-70568.6, 18980.5)),
((325, -200), (-70550.8, 16543.4)),
((325, -175), (-70538.8, 14107.8)),
((325, -150), (-70526.9, 11673.4)),
((325, -125), (-70517, 9240.15)),
((325, -100), (-3.68935e+19, 6807.79)),
((325, -75), (3.68935e+19, 4376.1)),
((325, -50), (-74385.9, -962.448)),
((325, -25), (-1.00007e+09, -9.99999e+08)),
((325, 0), (-74827.9, -2917.32)),
((325, 25), (3.68935e+19, -1.00001e+09)),
((325, 50), (-74399.2, -4873.34)),
((325, 75), (-70520.6, -10213.3)),
((325, 100), (-70529.4, -12647)),
((325, 125), (-70544.2, -15081.9)),
((325, 150), (-70560.9, -17518.1)),
((325, 175), (-70575.5, -19955.8)),
((325, 200), (-70593.6, -22395.2)),
((325, 225), (-70615.3, -24836.4)),
((325, 250), (-70634.3, -27279.5)),
((325, 275), (-70654.5, -29724.5)),
((325, 300), (-3.68935e+19, -32171.5)),
((325, 325), (-70703.8, -34620.5)),
((325, 350), (-70730.6, -37071.5)),
((325, 375), (-69839.5, -39014.9)),
((325, 400), (-68805.9, -40810.2)),
((350, -400), (-71744.5, 35393.9)),
((350, -375), (-72679.2, 33432.4)),
((350, -350), (-73160.4, 31215.1)),
((350, -325), (-73136.8, 28767.9)),
((350, -300), (-73118.2, 26322.6)),
((350, -275), (-73098.9, 23879)),
((350, -250), (-73080.9, 21437.1)),
((350, -225), (-73064.4, 18996.7)),
((350, -200), (-73049.5, 16557.9)),
((350, -175), (-73038.4, 14120.4)),
((350, -150), (-73023.1, 11684)),
((350, -125), (-3.68935e+19, 9248.68)),
((350, -100), (3.68935e+19, 6814.14)),
((350, -75), (-73003.6, 4380.21)),
((350, -50), (-1.00007e+09, -9.99998e+08)),
((350, -25), (-59285.8, 14125.1)),
((350, 0), (-70822.7, -2920.06)),
((350, 25), (-59293.1, -19965.5)),
((350, 50), (-1.00007e+09, -1.00001e+09)),
((350, 75), (-73017.3, -10222.7)),
((350, 100), (-73029.4, -12658.4)),
((350, 125), (3.68935e+19, -15095.2)),
((350, 150), (-73055.2, -17533.3)),
((350, 175), (-73070.8, -19972.7)),
((350, 200), (3.68935e+19, -22413.6)),
((350, 225), (-73106.5, -24856.2)),
((350, 250), (-73126.3, -27300.5)),
((350, 275), (-73147.3, -29746.6)),
((350, 300), (-73171.4, -32194.5)),
((350, 325), (-72308.8, -34226.2)),
((350, 350), (-71364.9, -36157.2)),
((350, 375), (-70394.4, -38011.9)),
((350, 400), (3.68935e+19, -39790.7)),
((375, -400), (-72194.4, 34467)),
((375, -375), (-73085.5, 32534.8)),
((375, -350), (-73944.6, 30531.9)),
((375, -325), (-74766.7, 28459.6)),
((375, -300), (-3.68935e+19, 26319.5)),
((375, -275), (-75593, 23897.1)),
((375, -250), (-75576, 21453.8)),
((375, -225), (-75560.5, 19012)),
((375, -200), (-75546.4, 16571.5)),
((375, -175), (-3.68935e+19, 14132.2)),
((375, -150), (-3.68935e+19, 11694)),
((375, -125), (-75514.9, 9256.67)),
((375, -100), (-75506.1, 6820.1)),
((375, -75), (-75503.4, 4384.06)),
((375, -50), (-3.68935e+19, 1619.03)),
((375, -25), (-75297.6, -387.365)),
((375, 0), (-75503.5, -2922.63)),
((375, 25), (-75302.5, -5458.14)),
((375, 50), (-74762.5, -7465.27)),
((375, 75), (3.68935e+19, -10231.5)),
((375, 100), (-75529.6, -12669.1)),
((375, 125), (-75538.8, -15107.8)),
((375, 150), (-75551.9, -17547.5)),
((375, 175), (-75566.5, -19988.6)),
((375, 200), (-75580.6, -22431)),
((375, 225), (-3.68935e+19, -24874.9)),
((375, 250), (-75240, -27183.5)),
((375, 275), (-74442.6, -29296.8)),
((375, 300), (3.68935e+19, -31341.5)),
((375, 325), (-72732.6, -33316.2)),
((375, 350), (-3.68935e+19, -35219.9)),
((375, 375), (-70902.3, -37052.2)),
((375, 400), (3.68935e+19, -38813.1)),
((400, -400), (-72608.2, 33582.2)),
((400, -375), (-73460.2, 31679.7)),
((400, -350), (-3.68935e+19, 29711.3)),
((400, -325), (-75059.4, 27678.2)),
((400, -300), (-75799.4, 25582.3)),
((400, -275), (-76495.3, 23426.1)),
((400, -250), (-3.68935e+19, 21212.5)),
((400, -225), (3.68935e+19, 18945.3)),
((400, -200), (-78043.7, 16584.3)),
((400, -175), (-78034.1, 14143.3)),
((400, -150), (-78022.1, 11703.3)),
((400, -125), (-78014, 9264.15)),
((400, -100), (-78007.6, 6825.67)),
((400, -75), (-78001.2, 4387.69)),
((400, -50), (3.68935e+19, 1950.01)),
((400, -25), (3.68935e+19, -487.492)),
((400, 0), (-78001.4, -2925.05)),
((400, 25), (-78004.7, -5362.83)),
((400, 50), (-78009.9, -7800.99)),
((400, 75), (-78015, -10239.7)),
((400, 100), (-78027.9, -12679.2)),
((400, 125), (-78036.5, -15119.6)),
((400, 150), (-78046.8, -17561)),
((400, 175), (-77496.1, -19858.4)),
((400, 200), (-76887.5, -22104.6)),
((400, 225), (-76221.5, -24295.6)),
((400, 250), (3.68935e+19, -26428)),
((400, 275), (-74749.6, -28499.1)),
((400, 300), (-73957.1, -30506.5)),
((400, 325), (-73123.8, -32448.7)),
((400, 350), (-72260.2, -34324.5)),
((400, 375), (-71374.9, -36133.5)),
((400, 400), (-70464, -37875.4))]

OBSTACLES = [
((-274.32, -274.32), (-205.68, -274.32), (-205.68, -205.68), (-274.32, -205.68)), 
((205.68, 205.68), (274.32, 205.68), (274.32, 274.32), (205.68, 274.32)), 
((205.68, -274.32), (274.32, -274.32), (274.32, -205.68), (205.68, -205.68)), 
((-274.32, 205.68), (-205.68, 205.68), (-205.68, 274.32), (-274.32, 274.32)), 
((-154.32, -274.32), (-85.68, -274.32), (-85.68, -205.68), (-154.32, -205.68)), 
((85.68, 205.68), (154.32, 205.68), (154.32, 274.32), (85.68, 274.32)), 
((205.68, -154.32), (274.32, -154.32), (274.32, -85.68), (205.68, -85.68)), 
((-274.32, 85.68), (-205.68, 85.68), (-205.68, 154.32), (-274.32, 154.32)), 
((-274.32, -154.32), (-205.68, -154.32), (-205.68, -85.68), (-274.32, -85.68)), 
((205.68, 85.68), (274.32, 85.68), (274.32, 154.32), (205.68, 154.32)), 
((85.68, 274.32), (154.32, -274.32), (154.32, -205.68), (85.68, -205.68)), 
((-154.32, 205.68), (-85.68, 205.68), (-85.68, 274.32), (-154.32, 274.32)), 
((-154.32, -154.32), (-85.68, -154.32), (-85.68, -85.68), (-154.32, -85.68)), 
((85.68, 85.68), (154.32, 85.68), (154.32, 154.32), (85.68, 154.32)), 
((85.68, -154.32), (154.32, -154.32), (154.32, -85.68), (85.68, -85.68)), 
((-154.32, 85.68), (-85.68, 85.68), (-85.68, 154.32), (-154.32, 154.32)), 
((-274.32, -34.32), (-205.68, -34.32), (-205.68, 34.32), (-274.32, 34.32)), 
((205.68, -34.32), (274.32, -34.32), (274.32, 34.32), (205.68, 34.32)), 
((-34.32, -274.32), (34.32, -274.32), (34.32, -205.68), (-34.32, -205.68)), 
((-34.32, 205.68), (34.32, 205.68), (34.32, 274.32), (-34.32, 274.32)), 
((-154.32, -34.32), (-85.68, -34.32), (-85.68, 34.3), (-154.32, 34.32)), 
((85.68, -34.32), (154.32, -34.32), (154.32, 34.32), (85.68, 34.32)), 
((-34.32, -154.32), (34.32, -154.32), (34.32, -85.68), (-34.32, -85.68)), 
((-34.32, 85.68), (34.32, 85.68), (34.32, 154.32), (-34.32, 154.32)), 
((-360.72, -50.72), (-335.68, -50.72), (-335.68, -25.68), (-360.72, -25.68)), 
((-344.32, -34.32), (-319.28, -34.32), (-319.28, -9.28), (-344.32, -9.28)), 
((-344.32, 9.28), (-319.28, 9.28), (-319.28, 34.32), (-344.32, 34.32)), 
((-360.72, 25.68), (-335.68, 25.68), (-335.68, 50.72), (-360.72, 50.72)), 
((335.68, -50.72), (360.72, -50.72), (360.72, -25.68), (335.68, -25.68)), 
((319.28, -34.32), (344.32, -34.32), (344.32, -9.28), (319.28, -9.28)), 
((319.28, 9.28), (344.32, 9.28), (344.32, 34.32), (319.28, 34.32)), 
((335.68, 25.68), (360.72, 25.68), (360.72, 50.72), (335.68, 50.72)), 
((-50.72, -360.72), (-25.68, -360.72), (-25.68, -335.68), (-50.72, -335.68)), 
((-34.32, -344.32), (-9.28, -344.32), (-9.28, -319.28), (-34.32, -319.28)), 
((9.28, -344.32), (34.32, -344.32), (34.32, -319.28), (9.28, -319.28)), 
((25.68, -360.72), (50.72, -360.72), (50.72, -335.68), (25.68, -335.68)), 
((-50.72, 335.68), (-25.68, 335.68), (-25.68, 360.72), (-50.72, 360.72)), 
((-34.32, 319.28), (-9.28, 319.28), (-9.28, 344.32), (-34.32, 344.32)), 
((9.28, 319.28), (34.32, 319.28), (34.32, 344.32), (9.28, 344.32)), 
((25.68, 335.68), (50.72, 335.68), (50.72, 360.72), (25.68, 360.72)), 
((-57.52, -57.52), (-32.48, -57.52), (-32.48, -32.48), (-57.52, -32.48)), 
((32.48, -57.52), (57.52, -57.52), (57.52, -32.48), (32.48, -32.48)), 
((-57.52, 32.48), (-32.48, 32.48), (-32.48, 57.52), (-57.52, 57.52)), 
((32.48, 32.48), (57.52, 32.48), (57.52, 57.52), (32.48, 57.52)), 
((-12.52, -72.52), (12.52, -72.52), (12.52, -47.48), (-12.52, -47.48)), 
((-12.52, 47.48), (12.52, 47.48), (12.52, 72.52), (-12.52, 72.52)), 
((-72.52, -12.52), (-47.48, -12.52), (-47.48, 12.52), (-72.52, 12.52)), 
((47.48, -12.52), (72.52, -12.52), (72.52, 12.52), (47.48, 12.52)), 
((-12.52, -192.52), (12.52, -192.52), (12.52, -167.48), (-12.52, -167.48)), 
((-12.52, 167.48), (12.52, 167.8), (12.52, 192.52), (-12.52, 192.52)), 
((-192.52, -12.52), (-167.48, -12.52), (-167.48, 12.52), (-192.52, 12.52)), 
((167.48, -12.52), (192.52, -12.52), (192.52, 12.52), (167.48, 12.52))
]


########################################################################
# Helper Functions

def gpi_point(x, y, vec_x, vec_y):
    '''Create the centered gpi data point (4-tuple) for a position and
    vector.  The vectors are expected to be less than 1 in magnitude,
    and larger values will be scaled down.'''
    r = (vec_x ** 2 + vec_y ** 2) ** 0.5
    if r > 1:
        vec_x /= r
        vec_y /= r
    return (x - vec_x * VEC_LEN / 2, y - vec_y * VEC_LEN / 2,
            vec_x * VEC_LEN, vec_y * VEC_LEN)

def gnuplot_header(minimum, maximum):
    '''Return a string that has all of the gnuplot sets and unsets.'''
    s = ''
    s += 'set xrange [%s: %s]\n' % (minimum, maximum)
    s += 'set yrange [%s: %s]\n' % (minimum, maximum)
    # The key is just clutter.  Get rid of it:
    s += 'unset key\n'
    # Make sure the figure is square since the world is square:
    s += 'set size square\n'
    # Add a pretty title (optional):
    #s += "set title 'Potential Fields'\n"
    return s

def draw_line(p1, p2):
    '''Return a string to tell Gnuplot to draw a line from point p1 to
    point p2 in the form of a set command.'''
    x1, y1 = p1
    x2, y2 = p2
    return 'set arrow from %s, %s to %s, %s nohead lt 3\n' % (x1, y1, x2, y2)

def draw_obstacles(obstacles):
    '''Return a string which tells Gnuplot to draw all of the obstacles.'''
    s = 'unset arrow\n'

    for obs in obstacles:
        last_point = obs[0]
        for cur_point in obs[1:]:
            s += draw_line(last_point, cur_point)
            last_point = cur_point
        s += draw_line(last_point, obs[0])
    return s

def plot_field(function):
    '''Return a Gnuplot command to plot a field.'''
    s = "plot '-' with vectors head\n"

    separation = WORLDSIZE / SAMPLES
    end = WORLDSIZE / 2 - separation / 2
    start = -end

    points = ((x, y) for x in linspace(start, end, SAMPLES)
                for y in linspace(start, end, SAMPLES))

    for loc, forces in POINTS:
        '''f_x, f_y = function(x, y)'''
        x, y = loc
        f_x, f_y = forces
        plotvalues = gpi_point(x, y, f_x, f_y)
        if plotvalues is not None:
            x1, y1, x2, y2 = plotvalues
            s += '%s %s %s %s\n' % (x1, y1, x2, y2)
    s += 'e\n'
    return s


########################################################################
# Plot the potential fields to a file

outfile = open(FILENAME, 'w')
print >>outfile, gnuplot_header(-WORLDSIZE / 2, WORLDSIZE / 2)
print >>outfile, draw_obstacles(OBSTACLES)
field_function = generate_field_function(150)
print >>outfile, plot_field(field_function)


########################################################################
# Animate a changing field, if the Python Gnuplot library is present

try:
    from Gnuplot import GnuplotProcess
except ImportError:
    print "Sorry.  You don't have the Gnuplot module installed."
    import sys
    sys.exit(-1)

forward_list = list(linspace(ANIMATION_MIN, ANIMATION_MAX, ANIMATION_FRAMES/2))
backward_list = list(linspace(ANIMATION_MAX, ANIMATION_MIN, ANIMATION_FRAMES/2))
anim_points = forward_list + backward_list

gp = GnuplotProcess(persist=False)
gp.write(gnuplot_header(-WORLDSIZE / 2, WORLDSIZE / 2))
gp.write(draw_obstacles(OBSTACLES))
for scale in cycle(anim_points):
    field_function = generate_field_function(scale)
    gp.write(plot_field(field_function))

# vim: et sw=4 sts=4

